<h1>Serie Form</h1>

    <div class="alert alert-success" ng-show="success">{{ success }}</div>
    <div class="alert alert-danger" ng-show="error">{{ error }}</div>


<form name="serieForm" class="form-horizontal" novalidate ng-submit="saveSerie()">

    <div class="form-group">
        <label for="title" class="col-sm-2 control-label">Title</label>
        <div class="col-sm-7">
            <input type="text" class="form-control" name="title" id="title" ng-model="model.title" placeholder="Title" required>
        </div>
        <div class="col-sm-3 error" ng-show="serieForm.title.$invalid && serieForm.title.$dirty">
            <p class="text-danger">This field is required</p>
        </div>
    </div>
    <div class="form-group">
        <label for="overview" class="col-sm-2 control-label">Overview</label>
        <div class="col-sm-7">
            <textarea class="form-control" name="overview" id="overview" ng-model="model.overview" placeholder="Overview"></textarea>
        </div>
    </div>
    <div class="form-group">
        <label for="poster_url" class="col-sm-2 control-label">Poster URL</label>
        <div class="col-sm-7">
            <input type="url" class="form-control" name="poster_url" ng-model="model.poster_url" placeholder="Poster URL" required ng-model-options="{updateOn: 'blur'}">    
        </div>
        <div class="col-sm-3 error" ng-show="serieForm.poster_url.$invalid && serieForm.poster_url.$dirty">
            <p class="text-danger" ng-show="serieForm.poster_url.$error.required">This field is required</p>
            <p class="text-danger" ng-show="serieForm.poster_url.$error.url">URL Invalid</p>
        </div>

    </div>
    <div class="form-group">
        <label for="date" class="col-sm-2 control-label">Date</label>
        <div class="col-sm-7">
            <input type="date" class="form-control" name="date" ng-model="model.date" placeholder="Date" required>
        </div>
        <div class="col-sm-3 error" ng-show="serieForm.date.$invalid && serieForm.date.$dirty">
            {{serieForm.date.$error | json}}
            <p class="text-danger" ng-show="serieForm.date.$error.date">This field is required. Fill a correct date</p>
        </div>        
    </div>    
    <div class="form-group">
        <label for="rating" class="col-sm-2 control-label">Rating</label>
        <div class="col-sm-7">
            <input type="number" class="form-control" name="rating" ng-model="model.rating" placeholder="Rating" min=0 max=10 required>
        </div>
        <div class="col-sm-3 error" ng-show="serieForm.rating.$invalid && serieForm.rating.$dirty">
            <p class="text-danger" ng-show="serieForm.rating.$error.required">This field is required</p>
            <p class="text-danger" ng-show="serieForm.rating.$error.min">Min allowed value is 0</p>
            <p class="text-danger" ng-show="serieForm.rating.$error.max">Max allowed value is 10</p>
        </div>
    </div>
    <div class="form-group">
        <label for="Categories" class="col-sm-2 control-label">Categories</label>
        <div class="col-sm-10">
            <ul class="list-unstyled">
                <li ng-repeat="category in categories">
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" ng-model="selectedCategories[category]">
                            {{category}}
                        </label>
                    </div>
                </li>         
            </ul>
        </div>
    </div>
    <div class="form-group">
        <button type="submit" class="btn btn-primary" ng-disabled="serieForm.$invalid">Save</button>
    </div>
</form>